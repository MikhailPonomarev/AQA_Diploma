# Автоматизация тестирования оплаты тура по дебетовой карте
## Перечень автоматизируемых сценариев
### Позитивные сценарии:
*Номера карт для прохождения тестов:*

APPROVED карта - `1111 2222 3333 4444`

DECLINED карта - `5555 6666 7777 8888`

- #### Покупка тура с активной картой
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. В поле "Номер карты" ввести номер APPROVED карты.
3. Поля "Месяц" и "Год" заполнить будущими месяцем и годом.
4. В поле "Владелец" ввести фамилию и имя на английском языке.
5. В поле "CVC/CVV" ввести 3-х значный числовой код.
6. Нажать кнопку "Продолжить".

***Ожидаемый результат: платёж совершается успешно, появилось уведомление "Успешно", 
в БД появилась запись со статусом "APPROVED".***

- #### Покупка тура с заблокированной картой
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. В поле "Номер карты" ввести номер DECLINED карты.
3. Поля "Месяц" и "Год" заполнить будущими месяцем и годом.
4. В поле "Владелец" ввести фамилию и имя на английском языке.
5. В поле "CVC/CVV" ввести 3-х значный числовой код.
6. Нажать кнопку "Продолжить".

***Ожидаемый результат: платёж не совершается, появилось уведомление "Ошибка! Банк отказал в проведении операции.",
в БД появилась запись со статусом "DECLINED".***

- #### Покупка тура с текущим месяцем и годом
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. В поле "Номер карты" ввести номер APPROVED карты.
3. Поля "Месяц" и "Год" заполнить текущими месяцем и годом.
4. В поле "Владелец" ввести фамилию и имя на английском языке.
5. В поле "CVC/CVV" ввести 3-х значный числовой код.
6. Нажать кнопку "Продолжить".

***Ожидаемый результат: платёж совершается успешно, появилось уведомление "Успешно",
в БД появилась запись со статусом "APPROVED".***

- #### Переключение на форму покупки тура в кредит
1. Нажать кнопку "Купить в кредит" на странице "Путешествие дня".

***Ожидаемый результат: форма оплаты на странице "Путешествие дня" 
переключилась на форму "Кредит по данным карты".***

### Негативные сценарии:
- #### Отправка пустой формы покупки тура
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. Оставить ВСЕ поля пустыми.
3. Нажать кнопку "Продолжить".

***Ожидаемый результат: под всеми пустыми полями появились предупреждения о необходимости заполнить поля.***

- #### Покупка тура с незаполненным номером карты
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. Поле "Номер карты" оставить пустым, все остальные поля заполнить валидными данными.
3. Нажать кнопку "Продолжить".

***Ожидаемый результат: под полем "Номер карты" появилось предупреждение "Неверный формат".***

- #### Покупка тура с не полностью заполненным номером карты
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. Ввести в поле "Номер карты" неполный номер (напр.: 1111 2222).
3. Все остальные поля заполнить валидными данными.
4. Нажать кнопку "Продолжить".

***Ожидаемый результат: под полем "Номер карты" появилось предупреждение "Неверный формат".***

- #### Покупка тура с "просроченной" картой
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. В поле "Номер карты" ввести номер APPROVED карты.
3. Поля "Месяц" и "Год" заполнить прошедшими месяцем и годом.
4. В поле "Владелец" ввести фамилию и имя на английском языке.
5. В поле "CVC/CVV" ввести 3-х значный числовой код.
6. Нажать кнопку "Продолжить".

***Ожидаемый результат: под полем "Год" появилось предупреждение "Истёк срок действия карты".***

- #### Покупка тура с незаполненным месяцем окончания срока действия карты
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. Поле "Месяц" оставить пустым, все остальные поля заполнить валидными данными.
3. Нажать кнопку "Продолжить".

***Ожидаемый результат: под полем "Месяц" появилось предупреждение "Неверный формат".***

- #### Покупка тура с незаполненным годом окончания срока действия карты
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. Поле "Год" оставить пустым, все остальные поля заполнить валидными данными.
3. Нажать кнопку "Продолжить".

***Ожидаемый результат: под полем "Год" появилось предупреждение "Неверный формат".***

- #### Покупка тура с незаполненным именем владельца карты
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. Поле "Владелец" оставить пустым, все остальные поля заполнить валидными данными.
3. Нажать кнопку "Продолжить".

***Ожидаемый результат: под полем "Владелец" появилось предупреждение "Поле обязательно для заполнения".***

- #### Покупка тура с кириллическим именем владельца карта
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. Ввести в поле "Владелец" имя и фамилию на русском языке (напр.: Иван Иванов).
3. Все остальные поля заполнить валидными данными.
4. Нажать кнопку "Продолжить".

***Ожидаемый результат: под полем "Владелец" появилось предупреждение "Неверный формат".***

- #### Покупка тура - поле "Владелец" заполнено цифрами и спец. символами
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. Ввести в поле "Владелец" случайный набор цифр и/или спец. символов (напр.: 123$%^&*).
3. Все остальные поля заполнить валидными данными.
4. Нажать кнопку "Продолжить".

***Ожидаемый результат: под полем "Владелец" появилось предупреждение "Неверный формат".***

- #### Покупка тура с пустым CVC/CVV
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. Поле "CVC/CVV" оставить пустым, все остальные поля заполнить валидными данными.
3. Нажать кнопку "Продолжить".

***Ожидаемый результат: под полем "CVC/CVV" появилось предупреждение "Неверный формат".***

- #### Покупка тура с неполным CVC/CVV
1. Нажать кнопку "Купить" на странице "Путешествие дня".
2. Ввести в поле "CVC/CVV" неполный числовой код (напр.: 1 или 12).
3. Все остальные поля заполнить валидными данными.
4. Нажать кнопку "Продолжить".

***Ожидаемый результат: под полем "CVC/CVV" появилось предупреждение "Неверный формат".***

## Перечень инструментов
1. **Java SE 11** - JDK: OpenJDK version 11.0.11, JRE/JVM: AdoptOpenJDK-11.0.11+9 - бесплатная и открытая реализации платформы Java.
2. **IntelliJ IDEA Ultimate Edition** - удобная IDE для работы с Java и клиентом для взаимодействия с БД.
3. **Gradle** - удобная для конфигурирования система автоматической сборки проекта.
4. **Git** - система контроля версия для фиксирования изменений.
5. **Библиотека JUnit 5** - фреймворк необходимый для создания и запуска автоматизированных тестов.
6. **Библиотека Selenide** - "обертка" над Selenium WebDriver с удобным API, позволяет писать тесты быстрее и делать их более читаемыми, что очень экономит время на реализацию.
7. **Библиотека Java Faker** - библиотека для генерации тестовых данных, в том числе по заданным шаблонам.
8. **Библиотека RestAssured** - удобный инструмент для автоматизации тестирования API.
9. **Библиотека dbutils** - инструмент облегчающий взаимодействие с БД из кода.
10. **Github Actions CI** - бесплатный и удобный инструмент непрерывной интеграции для удаленного запуска тестов, получения обратной связи о результатах прохождения тестов.
11. **Allure** - простая в установке библиотека для формирования отчетности о прохождении автотестов.

## Возможные риски при автоматизации тестирования
1. Усложненный подбор стабильных локаторов элементов страниц.
2. Разрешение конфликтов совместимости инструментов/библиотек.
3. При интеграции CI в проект автоматизации возможны проблемы связанные с конфигурацией инструментов: тесты не запускаются в CI, не формируется/неправильно формируется отчетность.

## Интервальная оценка с учетом рисков
12 часов с учетом настройки и подготовки инфраструктуры, подготовки тестовых данных, написания отладки тестов и возможных рисков.

5 часов - прохождение тестовых сценариев вручную и составление возможных баг-репортов в ходе выполнения тестов, составление отчёта о тестировании.

*Дополнительно:*

8 часов - автоматизация вышеперечисленных сценариев тестирования на уровне API приложения.

3 часа - интеграция проекта автоматизации в CI, конфигурирование CI.

*Итог:*

Общая объем работ: 28 часов.

## План сдачи работ
31.01.2022 - готовые UI автотесты с отчетом об их прохождении.

04.02.2022 - готовые API автотесты с отчетом об их прохождении.
